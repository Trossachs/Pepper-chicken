<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Pepper Chicken</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin.css') }}">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body class="admin-body">
    <div class="admin-dashboard">
        <!-- Sidebar -->
        <div class="admin-sidebar">
            <div class="admin-sidebar-header">
                <img src="{{ url_for('static', filename='assets/logo.svg') }}" alt="Pepper Chicken Logo" class="sidebar-logo">
                <div class="sidebar-title">Pepper Chicken</div>
            </div>
            
            <ul class="admin-nav">
                <li class="admin-nav-item">
                    <a href="#" class="admin-nav-link active" data-section="dashboard-section">
                        <i class="fas fa-tachometer-alt admin-nav-icon"></i>
                        <span>Dashboard</span>
                    </a>
                </li>
                <li class="admin-nav-item">
                    <a href="#" class="admin-nav-link" data-section="hero-section">
                        <i class="fas fa-home admin-nav-icon"></i>
                        <span>Hero Section</span>
                    </a>
                </li>
                <li class="admin-nav-item">
                    <a href="#" class="admin-nav-link" data-section="about-section">
                        <i class="fas fa-info-circle admin-nav-icon"></i>
                        <span>About Section</span>
                    </a>
                </li>
                <li class="admin-nav-item">
                    <a href="#" class="admin-nav-link" data-section="menu-section">
                        <i class="fas fa-utensils admin-nav-icon"></i>
                        <span>Menu Items</span>
                    </a>
                </li>
                <li class="admin-nav-item">
                    <a href="#" class="admin-nav-link" data-section="testimonials-section">
                        <i class="fas fa-quote-right admin-nav-icon"></i>
                        <span>Testimonials</span>
                    </a>
                </li>
                <li class="admin-nav-item">
                    <a href="#" class="admin-nav-link" data-section="contact-section">
                        <i class="fas fa-envelope admin-nav-icon"></i>
                        <span>Contact Info</span>
                    </a>
                </li>
            </ul>
        </div>
        
        <!-- Main Content -->
        <div class="admin-content">
            <!-- Alert container for showing messages -->
            <div id="alerts"></div>
            
            <!-- Display flash messages if any -->
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    {% for category, message in messages %}
                        <div class="alert alert-{{ category }}">
                            {{ message }}
                        </div>
                    {% endfor %}
                {% endif %}
            {% endwith %}
            
            <!-- Header -->
            <header class="admin-header">
                <button class="menu-toggle">
                    <i class="fas fa-bars"></i>
                </button>
                
                <h1 class="admin-title">Admin Dashboard</h1>
                
                <div class="admin-controls">
                    <div class="admin-user">
                        <span class="admin-user-name">Admin</span>
                        <i class="fas fa-user-circle"></i>
                    </div>
                    <a href="#" id="logoutBtn" class="admin-logout">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </a>
                </div>
            </header>
            
            <!-- Dashboard Section -->
            <section id="dashboard-section" class="admin-section">
                <div class="admin-card">
                    <h2>Welcome to the Pepper Chicken Admin Panel</h2>
                    <p>Use the sidebar to navigate between different sections of the website content that you can edit.</p>
                </div>
                
                <div class="admin-stats">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-utensils"></i>
                        </div>
                        <div class="stat-content">
                            <h3 class="stat-value" id="menuItemsCount">0</h3>
                            <p class="stat-label">Menu Items</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-quote-right"></i>
                        </div>
                        <div class="stat-content">
                            <h3 class="stat-value" id="testimonialsCount">0</h3>
                            <p class="stat-label">Testimonials</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-pencil-alt"></i>
                        </div>
                        <div class="stat-content">
                            <h3 class="stat-value">5</h3>
                            <p class="stat-label">Editable Sections</p>
                        </div>
                    </div>
                </div>
                
                <div class="admin-card">
                    <h3>Quick Actions</h3>
                    <div class="content-list">
                        <div class="content-item">
                            <div class="content-item-icon">
                                <i class="fas fa-home"></i>
                            </div>
                            <div class="content-item-title">Edit Hero Section</div>
                            <div class="content-item-actions">
                                <a href="#" class="action-btn edit" onclick="document.querySelector('[data-section=\'hero-section\']').click()">
                                    <i class="fas fa-edit"></i>
                                </a>
                            </div>
                        </div>
                        
                        <div class="content-item">
                            <div class="content-item-icon">
                                <i class="fas fa-plus"></i>
                            </div>
                            <div class="content-item-title">Add New Menu Item</div>
                            <div class="content-item-actions">
                                <a href="#" class="action-btn edit" onclick="document.querySelector('[data-section=\'menu-section\']').click(); document.getElementById('addMenuItemBtn').click();">
                                    <i class="fas fa-edit"></i>
                                </a>
                            </div>
                        </div>
                        
                        <div class="content-item">
                            <div class="content-item-icon">
                                <i class="fas fa-plus"></i>
                            </div>
                            <div class="content-item-title">Add New Testimonial</div>
                            <div class="content-item-actions">
                                <a href="#" class="action-btn edit" onclick="document.querySelector('[data-section=\'testimonials-section\']').click(); document.getElementById('addTestimonialBtn').click();">
                                    <i class="fas fa-edit"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Hero Section Editor -->
            <section id="hero-section" class="admin-section" style="display: none;">
                <div class="admin-card">
                    <div class="editor-header">
                        <h2 class="editor-title">Edit Hero Section</h2>
                    </div>
                    
                    <div class="editor-container">
                        <form id="heroForm" class="editor-form">
                            <div class="form-group">
                                <label for="heroTitle" class="form-label">Hero Title</label>
                                <input type="text" id="heroTitle" class="form-control" placeholder="Enter hero title">
                            </div>
                            
                            <div class="form-group">
                                <label for="heroSubtitle" class="form-label">Hero Subtitle</label>
                                <input type="text" id="heroSubtitle" class="form-control" placeholder="Enter hero subtitle">
                            </div>
                            
                            <div class="form-group">
                                <label for="heroButtonText" class="form-label">Button Text</label>
                                <input type="text" id="heroButtonText" class="form-control" placeholder="Enter button text">
                            </div>
                            
                            <div class="form-group">
                                <label for="heroButtonLink" class="form-label">Button Link</label>
                                <input type="text" id="heroButtonLink" class="form-control" placeholder="Enter button link (e.g., /menu)">
                            </div>
                            
                            <div class="form-group">
                                <label for="heroImage" class="form-label">Background Image URL</label>
                                <input type="text" id="heroImage" class="form-control" placeholder="Enter image URL">
                                <small>Use an external image URL (e.g., from Unsplash)</small>
                            </div>
                            
                            <div class="editor-controls">
                                <button type="submit" class="btn">Save Changes</button>
                            </div>
                        </form>
                    </div>
                </div>
            </section>
            
            <!-- About Section Editor -->
            <section id="about-section" class="admin-section" style="display: none;">
                <div class="admin-card">
                    <div class="editor-header">
                        <h2 class="editor-title">Edit About Section</h2>
                    </div>
                    
                    <div class="editor-container">
                        <form id="aboutForm" class="editor-form">
                            <div class="form-group">
                                <label for="aboutTitle" class="form-label">Section Title</label>
                                <input type="text" id="aboutTitle" class="form-control" placeholder="Enter section title">
                            </div>
                            
                            <div class="form-group">
                                <label for="aboutSubtitle" class="form-label">Section Subtitle</label>
                                <input type="text" id="aboutSubtitle" class="form-control" placeholder="Enter section subtitle">
                            </div>
                            
                            <div class="form-group">
                                <label for="aboutContent" class="form-label">Content</label>
                                <textarea id="aboutContent" class="form-control" rows="6" placeholder="Enter about content"></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label for="aboutImage" class="form-label">Image URL</label>
                                <input type="text" id="aboutImage" class="form-control" placeholder="Enter image URL">
                                <small>Use an external image URL (e.g., from Unsplash)</small>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Features</label>
                                <div id="aboutFeatures">
                                    <!-- Feature inputs will be added here -->
                                </div>
                                <button type="button" id="addFeatureBtn" class="btn btn-sm mt-2">
                                    <i class="fas fa-plus"></i> Add Feature
                                </button>
                            </div>
                            
                            <div class="editor-controls">
                                <button type="submit" class="btn">Save Changes</button>
                            </div>
                        </form>
                    </div>
                </div>
            </section>
            
            <!-- Menu Section Editor -->
            <section id="menu-section" class="admin-section" style="display: none;">
                <div class="admin-card">
                    <div class="editor-header">
                        <h2 class="editor-title">Manage Menu Items</h2>
                        <button id="addMenuItemBtn" class="btn">
                            <i class="fas fa-plus"></i> Add New Item
                        </button>
                    </div>
                    
                    <div class="content-list" id="menuItemsList">
                        <!-- Menu items will be loaded here -->
                    </div>
                </div>
                
                <!-- Menu Item Editor -->
                <div id="menuItemEditor" class="admin-card" style="display: none;">
                    <div class="editor-header">
                        <h2 class="editor-title">Edit Menu Item</h2>
                    </div>
                    
                    <div class="editor-container">
                        <form id="menuForm" class="editor-form">
                            <input type="hidden" id="menuItemId">
                            
                            <div class="form-group">
                                <label for="menuItemName" class="form-label">Item Name</label>
                                <input type="text" id="menuItemName" class="form-control" placeholder="Enter item name" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="menuItemDescription" class="form-label">Description</label>
                                <textarea id="menuItemDescription" class="form-control" rows="3" placeholder="Enter item description" required></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label for="menuItemPrice" class="form-label">Price (â‚¦)</label>
                                <input type="number" id="menuItemPrice" class="form-control" placeholder="Enter price" min="0" step="100" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="menuItemCategory" class="form-label">Category</label>
                                <select id="menuItemCategory" class="form-control" required>
                                    <option value="">Select Category</option>
                                    <option value="Main">Main Dish</option>
                                    <option value="Soup">Soup</option>
                                    <option value="Side">Side Dish</option>
                                    <option value="Appetizer">Appetizer</option>
                                    <option value="Breakfast">Breakfast</option>
                                    <option value="Dessert">Dessert</option>
                                    <option value="Drink">Drink</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="menuItemImage" class="form-label">Image URL</label>
                                <input type="text" id="menuItemImage" class="form-control" placeholder="Enter image URL">
                                <small>Use an external image URL (e.g., from Unsplash)</small>
                            </div>
                            
                            <div class="editor-controls">
                                <button type="button" class="btn cancel" onclick="document.getElementById('menuItemEditor').style.display = 'none'; document.getElementById('menuItemsList').parentElement.style.display = 'block';">Cancel</button>
                                <button type="submit" class="btn">Save Item</button>
                            </div>
                        </form>
                    </div>
                </div>
            </section>
            
            <!-- Testimonials Section Editor -->
            <section id="testimonials-section" class="admin-section" style="display: none;">
                <div class="admin-card">
                    <div class="editor-header">
                        <h2 class="editor-title">Manage Testimonials</h2>
                        <button id="addTestimonialBtn" class="btn">
                            <i class="fas fa-plus"></i> Add New Testimonial
                        </button>
                    </div>
                    
                    <div class="content-list" id="testimonialsList">
                        <!-- Testimonials will be loaded here -->
                    </div>
                </div>
                
                <!-- Testimonial Editor -->
                <div id="testimonialEditor" class="admin-card" style="display: none;">
                    <div class="editor-header">
                        <h2 class="editor-title">Edit Testimonial</h2>
                    </div>
                    
                    <div class="editor-container">
                        <form id="testimonialForm" class="editor-form">
                            <input type="hidden" id="testimonialId">
                            
                            <div class="form-group">
                                <label for="testimonialName" class="form-label">Name</label>
                                <input type="text" id="testimonialName" class="form-control" placeholder="Enter name" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="testimonialRole" class="form-label">Role/Position</label>
                                <input type="text" id="testimonialRole" class="form-control" placeholder="Enter role or position">
                            </div>
                            
                            <div class="form-group">
                                <label for="testimonialQuote" class="form-label">Testimonial Quote</label>
                                <textarea id="testimonialQuote" class="form-control" rows="4" placeholder="Enter testimonial" required></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label for="testimonialRating" class="form-label">Rating (1-5)</label>
                                <input type="number" id="testimonialRating" class="form-control" min="1" max="5" value="5">
                            </div>
                            
                            <div class="form-group">
                                <label for="testimonialImage" class="form-label">Profile Image URL</label>
                                <input type="text" id="testimonialImage" class="form-control" placeholder="Enter image URL">
                                <small>Use an external image URL (e.g., from Unsplash)</small>
                            </div>
                            
                            <div class="editor-controls">
                                <button type="button" class="btn cancel" onclick="document.getElementById('testimonialEditor').style.display = 'none'; document.getElementById('testimonialsList').parentElement.style.display = 'block';">Cancel</button>
                                <button type="submit" class="btn">Save Testimonial</button>
                            </div>
                        </form>
                    </div>
                </div>
            </section>
            
            <!-- Contact Section Editor -->
            <section id="contact-section" class="admin-section" style="display: none;">
                <div class="admin-card">
                    <div class="editor-header">
                        <h2 class="editor-title">Edit Contact Information</h2>
                    </div>
                    
                    <div class="editor-container">
                        <form id="contactInfoForm" class="editor-form">
                            <div class="form-group">
                                <label for="contactTitle" class="form-label">Section Title</label>
                                <input type="text" id="contactTitle" class="form-control" placeholder="Enter section title">
                            </div>
                            
                            <div class="form-group">
                                <label for="contactSubtitle" class="form-label">Section Subtitle</label>
                                <input type="text" id="contactSubtitle" class="form-control" placeholder="Enter section subtitle">
                            </div>
                            
                            <div class="form-group">
                                <label for="contactAddress" class="form-label">Address</label>
                                <input type="text" id="contactAddress" class="form-control" placeholder="Enter address">
                            </div>
                            
                            <div class="form-group">
                                <label for="contactPhone" class="form-label">Phone Number</label>
                                <input type="text" id="contactPhone" class="form-control" placeholder="Enter phone number">
                            </div>
                            
                            <div class="form-group">
                                <label for="contactEmail" class="form-label">Email</label>
                                <input type="email" id="contactEmail" class="form-control" placeholder="Enter email">
                            </div>
                            
                            <div class="form-group">
                                <label for="contactHours" class="form-label">Opening Hours</label>
                                <input type="text" id="contactHours" class="form-control" placeholder="Enter opening hours">
                            </div>
                            
                            <div class="editor-controls">
                                <button type="submit" class="btn">Save Changes</button>
                            </div>
                        </form>
                    </div>
                </div>
            </section>
        </div>
    </div>
    
    <!-- JavaScript Files -->
    <script src="{{ url_for('static', filename='js/admin.js') }}"></script>
    <script src="{{ url_for('static', filename='js/data.js') }}"></script>
    
    <script>
        // Update dashboard stats when the page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Get menu items count
            const menuItems = JSON.parse(localStorage.getItem('menuItems')) || window.defaultMenuItems || [];
            document.getElementById('menuItemsCount').textContent = menuItems.length;
            
            // Get testimonials count
            const testimonials = JSON.parse(localStorage.getItem('testimonials')) || window.defaultTestimonials || [];
            document.getElementById('testimonialsCount').textContent = testimonials.length;
        });
    </script>
</body>
</html>
